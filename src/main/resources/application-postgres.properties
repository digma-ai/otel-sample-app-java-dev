database=postgres

# PostgreSQL DataSource Configuration (Primary - for main petclinic data)
app.datasource.postgres.jdbcUrl=jdbc:postgresql://localhost:5442/petclinic
app.datasource.postgres.username=${POSTGRES_USER:postgres}
app.datasource.postgres.password=${POSTGRES_PASS:postgres}
app.datasource.postgres.driverClassName=org.postgresql.Driver
app.datasource.postgres.maximumPoolSize=20
app.datasource.postgres.minimumIdle=5
app.datasource.postgres.connectionTimeout=20000
app.datasource.postgres.idleTimeout=300000
app.datasource.postgres.maxLifetime=1200000

# MySQL DataSource Configuration (Secondary - for patient records only)
app.datasource.mysql.jdbcUrl=${MYSQL_URL:jdbc:mysql://localhost:3306/patient_records}
app.datasource.mysql.username=${MYSQL_USER:patient_user}
app.datasource.mysql.password=${MYSQL_PASS:patient_pass}
app.datasource.mysql.driverClassName=com.mysql.cj.jdbc.Driver
app.datasource.mysql.maximumPoolSize=10
app.datasource.mysql.minimumIdle=2
app.datasource.mysql.connectionTimeout=20000
app.datasource.mysql.idleTimeout=300000
app.datasource.mysql.maxLifetime=1200000

# Schema and Data Initialization - ALWAYS run to ensure schema exists
spring.sql.init.mode=always
spring.sql.init.continue-on-error=false
spring.sql.init.separator=;

# JPA/Hibernate Settings for PostgreSQL
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.batch_size=25
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true
