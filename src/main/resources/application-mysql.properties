database=postgres

# Multi-Database Configuration - PostgreSQL + MySQL
# This is the ONLY profile that enables both databases
# PostgreSQL: Main petclinic data (owners, pets, visits, vets) + clinic activity
# MySQL: Patient records ONLY (separate medical records system)

# Primary DataSource - PostgreSQL (Main PetClinic Data + Clinic Activity)
app.datasource.postgres.jdbcUrl=jdbc:postgresql://localhost:5442/petclinic
app.datasource.postgres.username=${POSTGRES_USER:postgres}
app.datasource.postgres.password=${POSTGRES_PASS:postgres}
app.datasource.postgres.driverClassName=org.postgresql.Driver
app.datasource.postgres.maximumPoolSize=20
app.datasource.postgres.minimumIdle=5
app.datasource.postgres.connectionTimeout=20000
app.datasource.postgres.idleTimeout=300000
app.datasource.postgres.maxLifetime=1200000

# Secondary DataSource - MySQL (Patient Records ONLY)
app.datasource.mysql.jdbcUrl=${MYSQL_URL:jdbc:mysql://localhost:3306/patient_records}
app.datasource.mysql.username=${MYSQL_USER:patient_user}
app.datasource.mysql.password=${MYSQL_PASS:patient_pass}
app.datasource.mysql.driverClassName=com.mysql.cj.jdbc.Driver
app.datasource.mysql.maximumPoolSize=10
app.datasource.mysql.minimumIdle=2
app.datasource.mysql.connectionTimeout=20000
app.datasource.mysql.idleTimeout=300000
app.datasource.mysql.maxLifetime=1200000

# Schema and Data Initialization - PostgreSQL (Main PetClinic)
spring.sql.init.mode=always
spring.sql.init.continue-on-error=false
spring.sql.init.separator=;

# MySQL Patient Records - NO AUTO INITIALIZATION
# Patient records schema must be manually created when needed
app.patient.records.auto-init=false
app.patient.records.enabled=${PATIENT_RECORDS_ENABLED:true}

# JPA/Hibernate Settings - PostgreSQL (Main PetClinic Data)
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.batch_size=25
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true

# Application Architecture Settings
app.database.primary=postgres
app.database.secondary=mysql
app.database.mode=multi_database
app.database.primary.purpose=petclinic_data_and_clinic_activity
app.database.secondary.purpose=patient_records_only
